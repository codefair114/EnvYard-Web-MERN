(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){},124:function(e,t,a){e.exports=a(282)},129:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},267:function(e,t,a){},275:function(e,t,a){},280:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),l=a.n(c),s=(a(129),a(8)),o=a.n(s),i=a(12),u=a(14),m=a(5),d=a(9),p={LOGIN:"LOGIN",GET_TOKEN:"GET_TOKEN",GET_USER:"GET_USER",GET_ALL_USERS:"GET_ALL_USERS"},E=a(4),h=a.n(E),f=function(){return{type:p.LOGIN}},v=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/user/infor",{headers:{Authorization:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=a(15),b=(a(151),a(152),a(153),a(154),a(31)),O=function(e){var t=e.click,a=Object(d.c)((function(e){return e.cart})).cartItems,n=Object(d.c)((function(e){return e.auth})),c=n.user,l=n.isLogged,s=n.isAdmin,u=n.isSupport,p=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/user/logout");case 3:localStorage.removeItem("firstLogin"),window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.location.href="/";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar__logo"},r.a.createElement("h2",null,"EnvYard")),r.a.createElement("ul",{className:"navbar__links"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/cart",className:"cart__link"},r.a.createElement("i",{className:"fas fa-shopping-cart"}),r.a.createElement("span",null,"Cart",r.a.createElement("span",{className:"cartlogo__badge"},a.reduce((function(e,t){return Number(t.qty)+e}),0))))),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/"},"Shop")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/renting"},"Rent")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/gardens"},"Your Gardens")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/gallery"},"Gallery")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/reviews"},"Reviews")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/create_review"},"Make Review")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/create_question"},"Ask Question")),s?r.a.createElement("li",{className:"navbar-item"},r.a.createElement(m.b,{to:"/admin/users",className:"nav-link"},"Users")):r.a.createElement(r.a.Fragment,null),s?r.a.createElement("li",{className:"navbar-item"},r.a.createElement(m.b,{to:"/create_user",className:"nav-link"},"Create User")):r.a.createElement(r.a.Fragment,null),u?r.a.createElement("li",{className:"navbar-item"},r.a.createElement(m.b,{to:"/support/reviews",className:"nav-link"},"Reviews Dashboard")):r.a.createElement(r.a.Fragment,null),u?r.a.createElement("li",{className:"navbar-item"},r.a.createElement(m.b,{to:"/support/questions",className:"nav-link"},"Questions")):r.a.createElement(r.a.Fragment,null),l?r.a.createElement("li",{className:"drop-nav"},r.a.createElement(m.b,{to:"#",className:"avatar"},r.a.createElement("img",{src:c.avatar,alt:""})," ",c.name," ",r.a.createElement("i",{className:"fas fa-angle-down"})),r.a.createElement("ul",{className:"dropdown"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/",onClick:p},"Logout")))):r.a.createElement("li",null,r.a.createElement(m.b,{to:"/login"},r.a.createElement("i",{className:"fas fa-user"})," Sign in"))),r.a.createElement("div",{className:"hamburger__menu",onClick:t},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},_=a(2),j=a(3),y=a(7),w=a(6),S=(n.Component,n.Component,a(156),function(e){var t=e.click;return e.show&&r.a.createElement("div",{className:"backdrop",onClick:t})}),k=(a(157),function(e){var t=e.show,a=e.click,n=["sidebar"],c=Object(d.c)((function(e){return e.cart})).cartItems;return t&&n.push("show"),r.a.createElement("div",{className:n.join(" ")},r.a.createElement("ul",{className:"sidebar__links",onClick:a},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-cart"}),r.a.createElement("span",null,"Cart"," ",r.a.createElement("span",{className:"sidebar__cartbadge"},c.reduce((function(e,t){return Number(t.qty)+e}),0))))),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/"},"Shop")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/reviews"},"Reviews")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/create_review"},"Make Reviews"))))}),C=a(10),N=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.review.email),r.a.createElement("td",null,e.review.productname),r.a.createElement("td",null,e.review.description),r.a.createElement("td",null,e.review.rating),r.a.createElement("td",null,e.review.marked),r.a.createElement("td",null,r.a.createElement(m.b,{to:"/support/edit_review/"+e.review._id},"edit")," | ",r.a.createElement("a",{href:"#",onClick:function(){e.deletereview(e.review._id)}},"delete")))},T=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).deletereview=n.deletereview.bind(Object(C.a)(n)),n.state={reviews:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/reviews/").then((function(t){e.setState({reviews:t.data})})).catch((function(e){console.log(e)}))}},{key:"deletereview",value:function(e){h.a.delete("/reviews/"+e).then((function(e){console.log(e.data)})),this.setState({reviews:this.state.reviews.filter((function(t){return t._id!==e}))})}},{key:"reviewList",value:function(){var e=this;return this.state.reviews.map((function(t){return r.a.createElement(N,{review:t,deletereview:e.deletereview,key:t._id})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Logged reviews"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Rating"),r.a.createElement("th",null,"Marked"))),r.a.createElement("tbody",null,this.reviewList())))}}]),a}(n.Component),R=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChangeMarked=n.onChangeMarked.bind(Object(C.a)(n)),n.onSubmit=n.onSubmit.bind(Object(C.a)(n)),n.state={email:"",productname:"",description:"",rating:"",marked:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/reviews/"+this.props.match.params.id).then((function(t){e.setState({email:t.data.email,productname:t.data.productname,description:t.data.description,rating:t.data.rating,marked:t.data.marked})})).catch((function(e){console.log(e)}))}},{key:"onChangeMarked",value:function(e){this.setState({marked:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,productname:this.state.productname,description:this.state.description,rating:this.state.rating,marked:this.state.marked};console.log(t),h.a.post("/reviews/update/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),window.location="/support/reviews"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null," Mark Review"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Product: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.productname})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.description})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Rating: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.rating})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Marked: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.marked,onChange:this.onChangeMarked})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Review Marked",className:"btn btn-dark"}))))}}]),a}(n.Component),D=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChangeEmail=n.onChangeEmail.bind(Object(C.a)(n)),n.onChangeProductname=n.onChangeProductname.bind(Object(C.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(C.a)(n)),n.onChangeRating=n.onChangeRating.bind(Object(C.a)(n)),n.onSubmit=n.onSubmit.bind(Object(C.a)(n)),n.state={email:"",productname:"",description:"",rating:"",marked:""},n}return Object(j.a)(a,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeProductname",value:function(e){this.setState({productname:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeRating",value:function(e){this.setState({rating:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,productname:this.state.productname,description:this.state.description,rating:this.state.rating,marked:"false"};console.log(t),h.a.post("/reviews/add",t).then((function(e){return console.log(e.data)})),this.setState({email:"",productname:"",description:"",rating:"",marked:"false"})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New Review"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"email",required:!0,className:"form-control",value:this.state.email,onChange:this.onChangeEmail}),r.a.createElement("label",null,"Product Name: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.productname,onChange:this.onChangeProductname}),r.a.createElement("label",null,"Description: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.description,onChange:this.onChangeDescription}),r.a.createElement("label",null,"Rating: "),r.a.createElement("input",{type:"number",required:!0,className:"form-control",value:this.state.rating,onChange:this.onChangeRating})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Submit Review",className:"btn btn-dark"}))))}}]),a}(n.Component),P=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.question.email),r.a.createElement("td",null,e.question.q),r.a.createElement("td",null,r.a.createElement("a",{href:"#",onClick:function(){e.deletequestion(e.question._id)}},"delete")))},x=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).deletequestion=n.deletequestion.bind(Object(C.a)(n)),n.state={questions:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/questions/").then((function(t){e.setState({questions:t.data})})).catch((function(e){console.log(e)}))}},{key:"deletequestion",value:function(e){h.a.delete("/questions/"+e).then((function(e){console.log(e.data)})),this.setState({questions:this.state.questions.filter((function(t){return t._id!==e}))})}},{key:"questionList",value:function(){var e=this;return this.state.questions.map((function(t){return r.a.createElement(P,{question:t,deletequestion:e.deletequestion,key:t._id})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Questions"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Question"))),r.a.createElement("tbody",null,this.questionList())))}}]),a}(n.Component),U=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(C.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(C.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(C.a)(n)),n.onChangeRole=n.onChangeRole.bind(Object(C.a)(n)),n.onSubmit=n.onSubmit.bind(Object(C.a)(n)),n.state={name:"",password:"",email:"",role:""},n}return Object(j.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeRole",value:function(e){this.setState({role:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,password:this.state.password,email:this.state.email,role:this.state.role};console.log(t),h.a.post("/user/add",t).then((function(e){return console.log(e.data)})),this.setState({name:"",password:"",email:"",role:""})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create New User"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name: "),r.a.createElement("input",{id:"name",type:"text",required:!0,className:"form-control",value:this.state.name,onChange:this.onChangeName}),r.a.createElement("label",null,"Password: "),r.a.createElement("input",{id:"password",type:"password",required:!0,className:"form-control",value:this.state.password,onChange:this.onChangePassword}),r.a.createElement("label",null,"Email: "),r.a.createElement("input",{id:"email",type:"email",required:!0,className:"form-control",value:this.state.email,onChange:this.onChangeEmail}),r.a.createElement("label",null,"Role: "),r.a.createElement("input",{id:"role",type:"text",required:!0,className:"form-control",value:this.state.role,onChange:this.onChangeRole})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Create User",className:"btn btn-dark"}))))}}]),a}(n.Component),L=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.user.name),r.a.createElement("td",null,e.user.email),r.a.createElement("td",null,e.user.role),r.a.createElement("td",null,r.a.createElement(m.b,{to:"/admin/edit_user/"+e.user._id},"edit")," | ",r.a.createElement("a",{href:"#",onClick:function(){e.deleteuser(e.user._id)}},"delete")))},I=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).deleteuser=n.deleteuser.bind(Object(C.a)(n)),n.state={users:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/user/").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteuser",value:function(e){h.a.delete("/user/"+e).then((function(e){console.log(e.data)})),this.setState({users:this.state.users.filter((function(t){return t._id!==e}))})}},{key:"userList",value:function(){var e=this;return this.state.users.map((function(t){return r.a.createElement(L,{user:t,deleteuser:e.deleteuser,key:t._id})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Logged users"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Role"))),r.a.createElement("tbody",null,this.userList())))}}]),a}(n.Component),A=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(C.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(C.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(C.a)(n)),n.onChangeRole=n.onChangeRole.bind(Object(C.a)(n)),n.onSubmit=n.onSubmit.bind(Object(C.a)(n)),n.state={name:"",password:"",email:"",role:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/user/"+this.props.match.params.id).then((function(t){e.setState({name:t.data.name,password:t.data.password,email:t.data.email,role:t.data.role})})).catch((function(e){console.log(e)}))}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeRole",value:function(e){this.setState({role:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,role:this.state.role};console.log(t),h.a.post("/user/update_r/"+this.props.match.params.id,t).then((function(e){return console.log(e.data)})),window.location="/admin/users"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null," Edit User "),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,onChange:this.onChangeName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.email,onChange:this.onChangeEmail})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Role: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.role,onChange:this.onChangeRole})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"User Update",className:"btn btn-dark"}))))}}]),a}(n.Component),G=(a(158),a(115)),q=a.n(G),F=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={rating:[],average_rating:0,users:[],revenue:[],total_revenue:0},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/reviews/").then((function(t){var a=0,n=0;t.data.forEach((function(t){e.state.rating.push(t.rating),a+=t.rating,n+=1})),e.setState({average_rating:a/n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(q.a,{id:"gauge-chart5",nrOfLevels:420,arcsLength:[.3,.5,.2],colors:["#5BE12C","#F5CD19","#EA4228"],percent:this.state.average_rating/5,arcPadding:.02})))}}]),a}(r.a.Component),M=a(59),Q=(a(110),function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={data:{},total_revenue:0},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/orders/").then((function(t){var a={};t.data.forEach((function(e){var t=e.createdAt,n=e.amount;a[t]=n,e.amount})),console.log(a),e.setState({data:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(M.b,{data:this.state.data}))}}]),a}(r.a.Component)),Y=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={data:{},total_users:0},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/user/").then((function(t){var a={},n=[];t.data.forEach((function(e){var t=e.createdAt;a[t]+=1,n.push([t,1]),e.amount})),console.log(a),e.setState({data:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(M.a,{data:this.state.data}))}}]),a}(r.a.Component),B=a(11),V=a(1),z=(a(267),function(e){return r.a.createElement("div",{className:"errMsg"},e)}),J=function(e){return r.a.createElement("div",{className:"successMsg"},e)},$=(a(268),a(269),{email:"",password:"",err:"",success:""});var H=function(){var e=Object(n.useState)($),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(d.b)(),s=Object(g.f)(),p=a.email,E=a.password,v=a.err,b=a.success,O=function(e){var t,n=e.target,r=n.name,l=n.value;c(Object(V.a)(Object(V.a)({},a),{},(t={},Object(B.a)(t,r,l),Object(B.a)(t,"err",""),Object(B.a)(t,"success",""),t)))},_=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("/user/login",{email:p,password:E});case 4:n=e.sent,c(Object(V.a)(Object(V.a)({},a),{},{err:"",success:n.data.msg})),localStorage.setItem("firstLogin",!0),l(f()),s.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&c(Object(V.a)(Object(V.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login_page"},r.a.createElement("h2",null,"Login"),v&&z(v),b&&J(b),r.a.createElement("form",{onSubmit:_},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{type:"text",placeholder:"Enter email address",id:"email",value:p,name:"email",onChange:O})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Enter password",id:"password",value:E,name:"password",onChange:O})),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"submit"},"Login"),r.a.createElement(m.b,{to:"/forgot_password"},"Forgot your password?"))),r.a.createElement("p",null,"New Customer? ",r.a.createElement(m.b,{to:"/register"},"Register")))},W=function(e){return!e},K=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},X=function(e){return e.length<6},Z=function(e,t){return e===t},ee={name:"",email:"",password:"",cf_password:"",err:"",success:""};var te=function(){var e=Object(n.useState)(ee),t=Object(u.a)(e,2),a=t[0],c=t[1],l=a.name,s=a.email,d=a.password,p=a.cf_password,E=a.err,f=a.success,v=function(e){var t,n=e.target,r=n.name,l=n.value;c(Object(V.a)(Object(V.a)({},a),{},(t={},Object(B.a)(t,r,l),Object(B.a)(t,"err",""),Object(B.a)(t,"success",""),t)))},g=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!W(l)&&!W(d)){e.next=3;break}return e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"Please fill in all fields.",success:""})));case 3:if(K(s)){e.next=5;break}return e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"Invalid emails.",success:""})));case 5:if(!X(d)){e.next=7;break}return e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"Password must be at least 6 characters.",success:""})));case 7:if(Z(d,p)){e.next=9;break}return e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"Password did not match.",success:""})));case 9:return e.prev=9,e.next=12,h.a.post("/user/register",{name:l,email:s,password:d});case 12:n=e.sent,c(Object(V.a)(Object(V.a)({},a),{},{err:"",success:n.data.msg})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),e.t0.response.data.msg&&c(Object(V.a)(Object(V.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login_page"},r.a.createElement("h2",null,"Register"),E&&z(E),f&&J(f),r.a.createElement("form",{onSubmit:g},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",placeholder:"Enter your name",id:"name",value:l,name:"name",onChange:v})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement("input",{type:"text",placeholder:"Enter email address",id:"email",value:s,name:"email",onChange:v})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Enter password",id:"password",value:d,name:"password",onChange:v})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"cf_password"},"Confirm Password"),r.a.createElement("input",{type:"password",placeholder:"Confirm password",id:"cf_password",value:p,name:"cf_password",onChange:v})),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"submit"},"Register"))),r.a.createElement("p",null,"Already an account? ",r.a.createElement(m.b,{to:"/login"},"Login")))};var ae=function(){var e=Object(g.g)().activation_token,t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),m=Object(u.a)(s,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){e&&function(){var t=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("/user/activation",{activation_token:e});case 3:a=t.sent,p(a.data.msg),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.msg&&l(t.t0.response.data.msg);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),r.a.createElement("div",{className:"active_page"},c&&z(c),d&&J(d))};var ne=function(){return r.a.createElement("div",null,"404 | Not Found")},re={email:"",err:"",success:""};var ce=function(){var e=Object(n.useState)(re),t=Object(u.a)(e,2),a=t[0],c=t[1],l=a.email,s=a.err,m=a.success,d=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K(l)){e.next=2;break}return e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"Invalid emails.",success:""})));case 2:return e.prev=2,e.next=5,h.a.post("/user/forgot",{email:l});case 5:return t=e.sent,e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"",success:t.data.msg})));case 9:e.prev=9,e.t0=e.catch(2),e.t0.response.data.msg&&c(Object(V.a)(Object(V.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"fg_pass"},r.a.createElement("h2",null,"Forgot Your Password?"),r.a.createElement("div",{className:"row"},s&&z(s),m&&J(m),r.a.createElement("label",{htmlFor:"email"},"Enter your email address"),r.a.createElement("input",{type:"email",name:"email",id:"email",value:l,onChange:function(e){var t,n=e.target,r=n.name,l=n.value;c(Object(V.a)(Object(V.a)({},a),{},(t={},Object(B.a)(t,r,l),Object(B.a)(t,"err",""),Object(B.a)(t,"success",""),t)))}}),r.a.createElement("button",{onClick:d},"Verify your email")))},le={password:"",cf_password:"",err:"",success:""};var se=function(){var e=Object(n.useState)(le),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(g.g)().token,s=a.password,m=a.cf_password,d=a.err,p=a.success,E=function(e){var t,n=e.target,r=n.name,l=n.value;c(Object(V.a)(Object(V.a)({},a),{},(t={},Object(B.a)(t,r,l),Object(B.a)(t,"err",""),Object(B.a)(t,"success",""),t)))},f=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X(s)){e.next=2;break}return e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"Password must be at least 6 characters.",success:""})));case 2:if(Z(s,m)){e.next=4;break}return e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"Password did not match.",success:""})));case 4:return e.prev=4,e.next=7,h.a.post("/user/reset",{password:s},{headers:{Authorization:l}});case 7:return t=e.sent,e.abrupt("return",c(Object(V.a)(Object(V.a)({},a),{},{err:"",success:t.data.msg})));case 11:e.prev=11,e.t0=e.catch(4),e.t0.response.data.msg&&c(Object(V.a)(Object(V.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"fg_pass"},r.a.createElement("h2",null,"Reset Your Password"),r.a.createElement("div",{className:"row"},d&&z(d),p&&J(p),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",value:s,onChange:E}),r.a.createElement("label",{htmlFor:"cf_password"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"cf_password",id:"cf_password",value:m,onChange:E}),r.a.createElement("button",{onClick:f},"Reset Password")))},oe=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.parameter.greenhouse),r.a.createElement("td",null,e.parameter.level),r.a.createElement("td",null,e.parameter.plant),r.a.createElement("td",null,e.parameter.moisture),r.a.createElement("td",null,e.parameter.temperature),r.a.createElement("td",null,e.parameter.humidity),r.a.createElement("td",null,e.parameter.altitude),r.a.createElement("td",null,e.parameter.lpg),r.a.createElement("td",null,e.parameter.co),r.a.createElement("td",null,e.parameter.smoke),r.a.createElement("td",null,r.a.createElement("a",{href:"#",onClick:function(){e.deleteparameter(e.parameter._id)}},"delete")))},ie=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).deleteparameter=n.deleteparameter.bind(Object(C.a)(n)),n.state={parameters:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/parameters/").then((function(t){e.setState({parameters:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteparameter",value:function(e){h.a.delete("/parameters/"+e).then((function(e){console.log(e.data)})),this.setState({parameter:this.state.parameters.filter((function(t){return t._id!==e}))})}},{key:"parameterList",value:function(){var e=this;return this.state.parameters.map((function(t){return r.a.createElement(oe,{parameter:t,deleteparameter:e.deleteparameter,key:t._id})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Telemetry"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Greenhouse"),r.a.createElement("th",null,"Level"),r.a.createElement("th",null,"Plant"),r.a.createElement("th",null,"Moisture"),r.a.createElement("th",null,"Temperature"),r.a.createElement("th",null,"Humidity"),r.a.createElement("th",null,"Altitude"),r.a.createElement("th",null,"LPG"),r.a.createElement("th",null,"CO"),r.a.createElement("th",null,"Smoke"))),r.a.createElement("tbody",null,this.parameterList())))}}]),a}(n.Component),ue=(a(56),a(75),a(284)),me=function(e){var t=e.greenhouse,a=e.level,n=e.id,c=e.diagnosis,l=e.url,s=e.name;Object(ue.a)().t;return r.a.createElement("div",{className:"product"},r.a.createElement("img",{src:l,alt:s}),r.a.createElement("div",{className:"product__info"},r.a.createElement("p",{className:"info__name"},s),r.a.createElement("p",{className:"info__description"},c),r.a.createElement("p",{className:"info__price"},t),r.a.createElement("p",null,a),r.a.createElement(m.b,{to:"/gallery/".concat(n),className:"info__button"},"View")))},de=function(e){e.trans;var t=Object(d.b)(),a=Object(d.c)((function(e){return e.getImages})),c=a.images,l=a.loading,s=a.error;return Object(n.useEffect)((function(){t(function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_PRODUCTS_REQUEST"}),e.next=4,h.a.get("images");case 4:a=e.sent,n=a.data,t({type:"GET_PRODUCTS_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"GET_PRODUCTS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),r.a.createElement("div",{className:"homepage"},r.a.createElement("h2",{className:"homepage__title"},"Your Plants"),r.a.createElement("div",{className:"homepage__products"},l?r.a.createElement("h2",null,"Loading..."):s?r.a.createElement("h2",null,s):c.map((function(e){return"image"==e.type?r.a.createElement(me,{greenhouse:e.greenhouse,level:e.level,id:e._id,diagnosis:e.diagnosis,url:e.url,name:e.name}):null}))))},pe=(a(109),function(e){var t=e.match,a=(e.history,Object(d.b)()),c=Object(d.c)((function(e){return e.getImageDetails})),l=c.loading,s=c.error,u=c.image;return Object(n.useEffect)((function(){var e;u&&t.params.id!==u._id&&a((e=t.params.id,function(){var t=Object(i.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"GET_PRODUCT_DETAILS_REQUEST"}),t.next=4,h.a.get("/images/".concat(e));case 4:n=t.sent,r=n.data,a({type:"GET_PRODUCT_DETAILS_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"GET_PRODUCT_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[a,t,u]),r.a.createElement("div",{className:"productpage"},l?r.a.createElement("h2",null,"Loading..."):s?r.a.createElement("h2",null,s):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"productpage__left"},r.a.createElement("div",{className:"left__image"},r.a.createElement("img",{src:u.url,alt:u.name})),r.a.createElement("div",{className:"left__info"},r.a.createElement("p",{className:"left__name"},u.name),r.a.createElement("p",null,"Level: ",u.level),r.a.createElement("p",null,"Description: ",u.level))),r.a.createElement("div",{className:"productpage__right"},r.a.createElement("div",{className:"right__info"},r.a.createElement("p",null,"Greenhouse:",r.a.createElement("span",null,"$",u.greenhouse)),r.a.createElement("p",null,"Status:",r.a.createElement("span",null,u.diagnosis))))))}),Ee=function(e){e.email;var t=e.gid,a=e.name,n=e.surface,c=e.imageUrl,l=(Object(ue.a)().t,Object(d.c)((function(e){return e.auth})));l.user,l.isLogged,l.isAdmin,l.isSupport;return r.a.createElement("div",{className:"product"},r.a.createElement("img",{src:c,alt:a}),r.a.createElement("div",{className:"product__info"},r.a.createElement("p",{className:"info__name"},a),r.a.createElement("p",{className:"info__description"},"ID"+t),r.a.createElement("p",{className:"info__price"},n),r.a.createElement(m.b,{to:"/",className:"info__button"},"View Telemetry")))},he=function(e){e.trans;var t=Object(d.b)(),a=Object(d.c)((function(e){return e.getGreenhouses})),c=a.greenhouses,l=a.loading,s=a.error,u=Object(d.c)((function(e){return e.auth})),m=u.user;u.isLogged,u.isAdmin,u.isSupport;return Object(n.useEffect)((function(){t(function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_PRODUCTS_REQUEST"}),e.next=4,h.a.get("greenhouses");case 4:a=e.sent,n=a.data,t({type:"GET_PRODUCTS_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"GET_PRODUCTS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),r.a.createElement("div",{className:"homepage"},r.a.createElement("h2",{className:"homepage__title"},"Your Plants"),r.a.createElement("div",{className:"homepage__products"},l?r.a.createElement("h2",null,"Loading..."):s?r.a.createElement("h2",null,s):c.map((function(e){return e.email===m.email?r.a.createElement(Ee,{email:e.email,gid:e.gid,name:e.name,surface:e.surface,imageUrl:e.imageUrl}):null}))))},fe=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/user/all_infor",{headers:{Authorization:t}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ve={name:"",password:"",cf_password:"",err:"",success:""};var ge=function(){var e=Object(d.c)((function(e){return e.auth})),t=Object(d.c)((function(e){return e.token})),a=(Object(d.c)((function(e){return e.users})),e.user),c=e.isAdmin,l=Object(n.useState)(ve),s=Object(u.a)(l,2),o=s[0],i=s[1],m=o.name,E=o.password,f=o.cf_password,v=o.err,g=o.success,b=Object(n.useState)(!1),O=Object(u.a)(b,2),_=O[0],j=(O[1],Object(n.useState)(!1)),y=Object(u.a)(j,2),w=y[0],S=(y[1],Object(d.b)());Object(n.useEffect)((function(){c&&fe(t).then((function(e){S(function(e){return{type:p.GET_ALL_USERS,payload:e.data}}(e))}))}),[t,c,S,w]);var k=function(e){var t,a=e.target,n=a.name,r=a.value;i(Object(V.a)(Object(V.a)({},o),{},(t={},Object(B.a)(t,n,r),Object(B.a)(t,"err",""),Object(B.a)(t,"success",""),t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,v&&z(v),g&&J(g),_&&r.a.createElement("h3",null,"Loading.....")),r.a.createElement("div",{className:"profile_page"},r.a.createElement("div",{className:"col-left"},r.a.createElement("h2",null,c?"Admin Profile":"User Profile"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",name:"name",id:"name",defaultValue:a.name,placeholder:"Your name",onChange:k})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",defaultValue:a.email,placeholder:"Your email address",disabled:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"New Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Your password",value:E,onChange:k})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cf_password"},"Confirm New Password"),r.a.createElement("input",{type:"password",name:"cf_password",id:"cf_password",placeholder:"Confirm password",value:f,onChange:k})),r.a.createElement("div",null,r.a.createElement("em",{style:{color:"crimson"}},"* If you update your password here, you will not be able to login quickly using google and facebook.")),r.a.createElement("button",{disabled:_,onClick:function(){m&&function(){try{h.a.patch("/user/update",{name:m||a.name},{headers:{Authorization:t}}),i(Object(V.a)(Object(V.a)({},o),{},{err:"",success:"Updated Success!"}))}catch(v){i(Object(V.a)(Object(V.a)({},o),{},{err:v.response.data.msg,success:""}))}}(),E&&function(){if(X(E))return i(Object(V.a)(Object(V.a)({},o),{},{err:"Password must be at least 6 characters.",success:""}));if(!Z(E,f))return i(Object(V.a)(Object(V.a)({},o),{},{err:"Password did not match.",success:""}));try{h.a.post("/user/reset",{password:E},{headers:{Authorization:t}}),i(Object(V.a)(Object(V.a)({},o),{},{err:"",success:"Updated Success!"}))}catch(v){i(Object(V.a)(Object(V.a)({},o),{},{err:v.response.data.msg,success:""}))}}()}},"Update"))))},be=function(e){var t=e.imageUrl,a=e.description,n=e.price,c=e.name,l=e.productId;Object(ue.a)().t;return r.a.createElement("div",{className:"product"},r.a.createElement("img",{src:t,alt:c}),r.a.createElement("div",{className:"product__info"},r.a.createElement("p",{className:"info__name"},c),r.a.createElement("p",{className:"info__description"},a.substring(0,100)+"..."),r.a.createElement("p",{className:"info__price"},"$",n),r.a.createElement(m.b,{to:"/product/".concat(l),className:"info__button"},"View")))},Oe=function(){return function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"GET_PRODUCTS_REQUEST"}),e.next=4,h.a.get("/api/products");case 4:a=e.sent,n=a.data,t({type:"GET_PRODUCTS_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"GET_PRODUCTS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},_e=function(e){e.trans;var t=Object(d.b)(),a=Object(d.c)((function(e){return e.getProducts})),c=a.products,l=a.loading,s=a.error;return Object(n.useEffect)((function(){t(Oe())}),[t]),r.a.createElement("div",{className:"homepage"},r.a.createElement("h2",{className:"homepage__title"},"Latest Products"),r.a.createElement("div",{className:"homepage__products"},l?r.a.createElement("h2",null,"Loading..."):s?r.a.createElement("h2",null,s):c.map((function(e){return 1===e.type?r.a.createElement(be,{key:e._id,name:e.name,description:e.description,price:e.price,imageUrl:e.imageUrl,productId:e._id}):null}))))},je=function(e){e.trans;var t=Object(d.b)(),a=Object(d.c)((function(e){return e.getProducts})),c=a.products,l=a.loading,s=a.error;return Object(n.useEffect)((function(){t(Oe())}),[t]),r.a.createElement("div",{className:"homepage"},r.a.createElement("h2",{className:"homepage__title"},"Rent a Parcel"),r.a.createElement("div",{className:"homepage__products"},l?r.a.createElement("h2",null,"Loading..."):s?r.a.createElement("h2",null,s):c.map((function(e){return 2===e.type?r.a.createElement(be,{key:e._id,name:e.name,description:e.description,price:e.price,imageUrl:e.imageUrl,productId:e._id}):null}))))},ye=(a(275),a(119)),we=a.n(ye),Se=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props.toPay;return r.a.createElement(we.a,{env:"sandbox",client:{sandbox:"AQ5BugvS486so6JkeYBNy5gNWl4apfH7yjz9B6p3xP5lqmBkapTocrDIJXtsMBtkxVuoX-C-L-Cob0ud",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:t,onError:function(e){console.log("Error!",e)},onSuccess:function(t){console.log("The payment was succeeded!",t),e.props.onSuccess(t)},onCancel:function(e){console.log("The payment was cancelled!",e)},style:{size:"large",color:"blue",shape:"rect",label:"checkout"}})}}]),a}(r.a.Component),ke=a(16),Ce=(a(280),function(e){var t=e.item,a=e.qtyChangeHandler,n=e.removeHandler;return r.a.createElement("div",{className:"cartitem"},r.a.createElement("div",{className:"cartitem__image"},r.a.createElement("img",{src:t.imageUrl,alt:t.name})),r.a.createElement(m.b,{to:"/product/".concat(t.product),className:"cartItem__name"},r.a.createElement("p",null,t.name)),r.a.createElement("p",{className:"cartitem__price"},"$",t.price),r.a.createElement("select",{value:t.qty,onChange:function(e){return a(t.product,e.target.value)},className:"cartItem__select"},Object(ke.a)(Array(t.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)}))),r.a.createElement("button",{className:"cartItem__deleteBtn",onClick:function(){return n(t.product)}},r.a.createElement("i",{className:"fas fa-trash"})))}),Ne=function(e,t){return function(){var a=Object(i.a)(o.a.mark((function a(n,r){var c,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.get("/api/products/".concat(e));case 2:c=a.sent,l=c.data,n({type:"ADD_TO_CART",payload:{product:l._id,name:l.name,imageUrl:l.imageUrl,price:l.price,countInStock:l.countInStock,qty:t}}),localStorage.setItem("cart",JSON.stringify(r().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()};var Te=function(e){var t=Object(d.b)(),a=Object(n.useState)(0),c=Object(u.a)(a,2),l=(c[0],c[1],Object(n.useState)(!1)),s=Object(u.a)(l,2),o=(s[0],s[1],Object(n.useState)(!1)),i=Object(u.a)(o,2),p=(i[0],i[1],Object(d.c)((function(e){return e.cart})).cartItems);Object(n.useEffect)((function(){}),[]);var E=function(e,a){t(Ne(e,a))},f=function(e){t(function(e){return function(t,a){t({type:"REMOVE_FROM_CART",payload:e}),localStorage.setItem("cart",JSON.stringify(a().cart.cartItems))}}(e))},v=function(){return p.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cartpage"},r.a.createElement("div",{className:"cartpage__left"},r.a.createElement("h2",null,"Shopping Cart"),0===p.length?r.a.createElement("div",null,"Your Cart Is Empty ",r.a.createElement(m.b,{to:"/"},"Go Back")):p.map((function(e){return r.a.createElement(Ce,{key:e.product,item:e,qtyChangeHandler:E,removeHandler:f})}))),r.a.createElement(Se,{toPay:v()})),r.a.createElement("div",null,r.a.createElement("button",{type:"button",class:"btn btn-dark",onClick:function(e,t){var a={name:e,amount:t};h.a.post("/orders/add",a).then((function(e){return console.log(e.data)}))}(toString(p),v())},"Add Order")))},Re=function(e){var t=e.match,a=e.history,c=Object(n.useState)(1),l=Object(u.a)(c,2),s=l[0],m=l[1],p=Object(d.b)(),E=Object(d.c)((function(e){return e.getProductDetails})),f=E.loading,v=E.error,g=E.product;Object(n.useEffect)((function(){var e;g&&t.params.id!==g._id&&p((e=t.params.id,function(){var t=Object(i.a)(o.a.mark((function t(a){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"GET_PRODUCT_DETAILS_REQUEST"}),t.next=4,h.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:"GET_PRODUCT_DETAILS_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"GET_PRODUCT_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[p,t,g]);return r.a.createElement("div",{className:"productpage"},f?r.a.createElement("h2",null,"Loading..."):v?r.a.createElement("h2",null,v):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"productpage__left"},r.a.createElement("div",{className:"left__image"},r.a.createElement("img",{src:g.imageUrl,alt:g.name}),r.a.createElement("img",{src:g.qr})),r.a.createElement("div",{className:"left__info"},r.a.createElement("p",{className:"left__name"},g.name),r.a.createElement("p",null,"Price: $",g.price),r.a.createElement("p",null,"Description: ",g.description))),r.a.createElement("div",{className:"productpage__right"},r.a.createElement("div",{className:"right__info"},r.a.createElement("p",null,"Price:",r.a.createElement("span",null,"$",g.price)),r.a.createElement("p",null,"Status:",r.a.createElement("span",null,g.countInStock>0?"In Stock":"Out of Stock")),r.a.createElement("p",null,"Qty",r.a.createElement("select",{value:s,onChange:function(e){return m(e.target.value)}},Object(ke.a)(Array(g.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))),r.a.createElement("p",null,r.a.createElement("button",{type:"button",onClick:function(){p(Ne(g._id,s)),a.push("/cart")}},"Add To Cart"))))))},De=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.review.productname),r.a.createElement("td",null,e.review.description),r.a.createElement("td",null,e.review.rating))},Pe=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={reviews:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("/reviews/").then((function(t){var a=t.data.filter((function(e){return"true"===e.marked}));e.setState({reviews:a})})).catch((function(e){console.log(e)}))}},{key:"reviewList",value:function(){return this.state.reviews.map((function(e){return r.a.createElement(De,{review:e,key:e._id})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"All reviews"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Rating"))),r.a.createElement("tbody",null,this.reviewList())))}}]),a}(n.Component),xe=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).onChangeEmail=n.onChangeEmail.bind(Object(C.a)(n)),n.onChangeQuestion=n.onChangeQuestion.bind(Object(C.a)(n)),n.onSubmit=n.onSubmit.bind(Object(C.a)(n)),n.state={email:"",q:""},n}return Object(j.a)(a,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangeQuestion",value:function(e){this.setState({q:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,q:this.state.q};console.log(t),h.a.post("/questions/add",t).then((function(e){return console.log(e.data)})),this.setState({email:"",q:""})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Ask Question"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email: "),r.a.createElement("input",{type:"email",required:!0,className:"form-control",value:this.state.email,onChange:this.onChangeEmail}),r.a.createElement("label",null,"Question: "),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.q,onChange:this.onChangeQuestion})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",value:"Submit Question",className:"btn btn-dark"}))))}}]),a}(n.Component);var Ue=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.token})),a=Object(d.c)((function(e){return e.auth})),c=a.isLogged,l=a.isAdmin,s=a.isSupport,E=Object(n.useState)(!1),b=Object(u.a)(E,2),_=b[0],j=b[1];return Object(n.useEffect)((function(){localStorage.getItem("firstLogin")&&function(){var t=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("/user/refresh_token",null);case 2:a=t.sent,e({type:"GET_TOKEN",payload:a.data.access_token});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[a.isLogged,e]),Object(n.useEffect)((function(){if(t){e(f()),v(t).then((function(t){e(function(e){return{type:p.GET_USER,payload:{user:e.data,isAdmin:1===e.data.role,isSupport:2===e.data.role}}}(t))}))}}),[t,e]),r.a.createElement(m.a,null,r.a.createElement(O,{click:function(){return j(!0)}}),r.a.createElement(k,{show:_,click:function(){return j(!1)}}),r.a.createElement(S,{show:_,click:function(){return j(!1)}}),r.a.createElement("main",null,r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/support/reviews",exact:!0,component:s?T:ne}),r.a.createElement(g.a,{path:"/support/edit_review/:id",component:s?R:ne}),r.a.createElement(g.a,{path:"/support/questions",component:s?x:ne}),r.a.createElement(g.a,{path:"/create_user",component:l?U:ne}),r.a.createElement(g.a,{path:"/admin/users",exact:!0,component:l?I:ne}),r.a.createElement(g.a,{path:"/admin/edit_user/:id",component:l?A:ne}),r.a.createElement(g.a,{path:"/admin/ratings",component:l?F:ne}),r.a.createElement(g.a,{path:"/admin/orders",component:l?Q:ne}),r.a.createElement(g.a,{path:"/admin/list",component:l?Y:ne}),r.a.createElement(g.a,{path:"/",exact:!0,component:_e}),r.a.createElement(g.a,{path:"/renting",component:je}),r.a.createElement(g.a,{path:"/product/:id",component:Re}),r.a.createElement(g.a,{path:"/cart",component:Te}),r.a.createElement(g.a,{path:"/reviews",component:Pe}),r.a.createElement(g.a,{path:"/create_review",component:D}),r.a.createElement(g.a,{path:"/create_question",component:xe}),r.a.createElement(g.a,{path:"/telemetry",component:ie}),r.a.createElement(g.a,{path:"/gallery",component:de}),r.a.createElement(g.a,{path:"/gallery/:id",component:pe}),r.a.createElement(g.a,{path:"/gardens",component:c?he:ne}),r.a.createElement(g.a,{path:"/login",component:c?ne:H,exact:!0}),r.a.createElement(g.a,{path:"/register",component:c?ne:te,exact:!0}),r.a.createElement(g.a,{path:"/forgot_password",component:c?ne:ce,exact:!0}),r.a.createElement(g.a,{path:"/user/reset/:token",component:c?ne:se,exact:!0}),r.a.createElement(g.a,{path:"/user/activate/:activation_token",component:ae,exact:!0}),r.a.createElement(g.a,{path:"/profile",component:c?ge:ne,exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le=a(44),Ie=a(120),Ae=a(121),Ge={user:[],isLogged:!1,isAdmin:!1,isSupport:!1},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.LOGIN:return Object(V.a)(Object(V.a)({},e),{},{isLogged:!0});case p.GET_USER:return Object(V.a)(Object(V.a)({},e),{},{user:t.payload.user,isAdmin:t.payload.isAdmin,isSupport:t.payload.isSupport});default:return e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.GET_TOKEN:return t.payload;default:return e}},Me=[],Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.GET_ALL_USERS:return t.payload;default:return e}},Ye={cartItems:[]},Be=Object(Le.combineReducers)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(V.a)(Object(V.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}):Object(V.a)(Object(V.a)({},e),{},{cartItems:[].concat(Object(ke.a)(e.cartItems),[a])});case"REMOVE_FROM_CART":return Object(V.a)(Object(V.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});default:return e}},getProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS_REQUEST":return{loading:!0,products:[]};case"GET_PRODUCTS_SUCCESS":return{products:t.payload,loading:!1};case"GET_PRODUCTS_FAIL":return{loading:!1,error:t.payload};default:return e}},getProductDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT_DETAILS_REQUEST":return{loading:!0};case"GET_PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"GET_PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};case"GET_PRODUCT_DETAILS_RESET":return{product:{}};default:return e}},getImages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{images:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS_REQUEST":return{loading:!0,images:[]};case"GET_PRODUCTS_SUCCESS":return{images:t.payload,loading:!1};case"GET_PRODUCTS_FAIL":return{loading:!1,error:t.payload};default:return e}},getImageDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{image:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT_DETAILS_REQUEST":return{loading:!0};case"GET_PRODUCT_DETAILS_SUCCESS":return{loading:!1,image:t.payload};case"GET_PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};case"GET_PRODUCT_DETAILS_RESET":return{image:{}};default:return e}},auth:qe,token:Fe,users:Qe}),Ve=[Ie.a],ze={cart:{cartItems:localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]}},Je=Object(Le.createStore)(Be,ze,Object(Ae.composeWithDevTools)(Le.applyMiddleware.apply(void 0,Ve)));var $e=function(e){var t=e.children;return r.a.createElement(d.a,{store:Je},t)},He=a(122),We=a(123),Ke=a(45),Xe={order:["navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"],cookieMinutes:10,cookieDomain:"myDomain",htmlTag:document.documentElement,checkWhitelist:!0};b.a.use(He.a).use(We.a).use(Ke.e).init({fallbackLng:["en"],debug:!0,whitelist:["en","ro"],detection:Xe,interpolation:{escapeValue:!1}});b.a;l.a.render(r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading")},r.a.createElement($e,null,r.a.createElement(Ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,a){},75:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.199d670b.chunk.js.map